---
import mainImg from "./components/images/guitars-2.jpg";
import Nav from "./components/Nav";
import MainLayout from "../layouts/MainLayout.astro";
import Services from "./Services.astro";
---

<MainLayout>
  <div>
    {(<Nav client:visible position={false} />)}

    <div
      class="relative mx-12 flex flex-col items-center justify-center xl:flex-row xl:gap-36 xl:overflow-hidden"
    >
      <div class="w-full xl:w-1/2">
        <h1 class="welcome">Welcome to MGC!</h1>

        <div class="relative">
          <div class="relative">
            <svg class="absolute h-full w-full overflow-visible mt-4">
              <defs>
                <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                  <stop
                    offset="0%"
                    style={{ stopColor: "#f0f0f0", stopOpacity: 1 }}></stop>
                  <stop
                    offset="100%"
                    style={{ stopColor: "#4A4A4AFF", stopOpacity: 1 }}></stop>
                </linearGradient>
              </defs>
              <path
                id="border-path"
                fill="none"
                stroke="url(#gradient)"
                stroke-width="4"></path>
            </svg>

            <p id="anim-p" class="p-6 text-lg text-slate-50">
              Having started in 2011, we have years of experience in the art we
              teach. Lots of students have successfully fulfilled their desires
              of becoming an artist by joining MGC. Moreover, <span
                class="font-bold"
                >we provide instruments in the class to all students
              </span>
              clearing out a hurdle in your journey towards achieving your goals.
              <br /><br />

              Just music alone, whether playing or listening, is enough to
              relieve your mind and give you inner peace.
              <span class="font-bold"
                >Adequate skills and confidence to play the instrument you want</span
              > are the icing on the cake that you will master here! We have an energetic
              ambiance and eager-to-learn people joining us every day, so what are
              you waiting for?
            </p>
          </div>

          <div
            class="all-btns flex flex-row items-center justify-center gap-5 pt-10"
          >
            <a href="#services-list"><button class="CTA">Guitar</button></a>
            <a href="#services-list"><button class="CTA">Piano</button></a>
            <a href="#services-list"><button class="CTA">Ukulele</button></a>
          </div>


        </div>
      </div>

      <div class="relative">
        <img class="main-img" src={mainImg} alt="guitars" />
      </div>
    </div>

    <Services />

  </div>
</MainLayout>

<!-- STYLING STARTS HERE -->

<style>
  #border-path {
    animation: draw 1s forwards 1s ease-out;
  }

  @keyframes draw {
    to {
      stroke-dashoffset: 0;
    }
  }
</style>

<script>
  function updatePath() {
    const textMain = document.querySelector("#anim-p") as HTMLElement;
    const path = document.querySelector("#border-path") as SVGPathElement;

    if (textMain && path) {
      path.setAttribute(
        "d",
        `M0,0 V${textMain.offsetHeight} H${textMain.offsetWidth}
        }`
      );
    }
    const pathLength = path.getTotalLength();
    path.style.strokeDasharray = pathLength.toString();
    path.style.strokeDashoffset = pathLength.toString();
  }

  

  window.addEventListener("DOMContentLoaded", updatePath);
  window.addEventListener("resize", updatePath);
</script>

<style>
  @import url("https://fonts.googleapis.com/css2?family=Yeseva+One&display=swap");
  /* font-family: 'Yeseva One', cursive; */

  @import url("https://fonts.googleapis.com/css2?family=Josefin+Sans&display=swap");
  /* font-family: 'Josefin Sans', sans-serif; */
  body {
    background: linear-gradient(
      180deg,
      rgba(74, 74, 74, 1) 20%,
      rgba(82, 82, 82, 1) 33%,
      rgba(88, 87, 87, 1) 45%,
      rgba(97, 95, 95, 1) 54%,
      rgba(108, 106, 106, 1) 62%,
      rgba(119, 117, 117, 1) 70%,
      rgba(139, 137, 137, 1) 77%,
      rgba(212, 208, 208, 1) 96%
    );
    background-repeat: no-repeat;
  }

  .welcome {
    font-family: "Yeseva One", cursive;
    font-size: xx-large;
    color: aliceblue;
    text-shadow: 3px 3px 4px rgb(0, 0, 0, 0.8);
  }
  .main-img {
    height: 500px;
    border-radius: 15px;
    margin-block: 36px;
    transition: 0.2s all ease-out;
  }

  .main-img:hover {
    box-shadow: 4px 4px 4px rgba(74, 74, 74, 1);
  }

  #anim-p {
    padding: 25px;
    margin-left: 16px;
    background-color: rgba(0, 0, 0, 0.4);
    border-radius: 25px;
    font-family: "Josefin Sans", sans-serif;
  }

  .CTA {
    padding-inline: 16px;
    padding-block: 10px;
    background-color: rgba(35, 35, 35, 1);
    margin-bottom: 5px;
    border-radius: 15px;
    font-family: "Josefin Sans", sans-serif;
    color: aliceblue;
    font-size: 25px;
    text-align: center;
    transition: all 0.3s ease;
  }

  .CTA:hover {
    box-shadow: 3px 3px 2px rgba(82, 82, 82, 1);
  }
</style>